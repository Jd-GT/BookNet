{% extends "shop/base.html" %}

{% block title %}My Cart{% endblock %}

{% block content %}
<div class="container mt-5">
  <h2>üõí Your Cart</h2>

  {% if cart.items.all %}
    <ul class="list-group mb-3">
      {% for item in cart.items.all %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
          <div>
            {{ item.book.title }} (x{{ item.quantity }})
          </div>
          <div>
            <a href="{% url 'update_quantity' item.id 'decrease' %}" class="btn btn-sm btn-outline-secondary">‚àí</a>
            <a href="{% url 'update_quantity' item.id 'increase' %}" class="btn btn-sm btn-outline-secondary">+</a>
            <span class="mx-3">$ {{ item.book.price|floatformat:2 }}</span>
            <a href="{% url 'remove_from_cart' item.id %}" class="btn btn-sm btn-danger">Remove</a>
          </div>
        </li>
      {% endfor %}
    </ul>

    <h4>Total: ${{ total|floatformat:2 }}</h4>

    <a href="{% url 'checkout' %}" class="btn btn-success">Checkout</a>
    <a href="{% url 'book_list' %}" class="btn btn-secondary ms-3">‚Üê Continue Shopping</a>
  {% else %}
    <p>Your cart is empty.</p>
    <a href="{% url 'book_list' %}" class="btn btn-primary">Browse Books</a>
  {% endif %}
</div>
{% endblock %}
